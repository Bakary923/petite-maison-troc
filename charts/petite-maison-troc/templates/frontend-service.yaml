apiVersion: v1
kind: Service
metadata:
  name: {{ .Release.Name }}-frontend

spec:
  # Sur OpenShift, ClusterIP suffit car la Route expose le service
  type: {{ .Values.frontend.serviceType | default "ClusterIP" }}

  selector:
    # Doit correspondre exactement au label du Deployment frontend
    app: frontend

  ports:
    - name: http
      # ðŸš¨ IMPORTANT : ton frontend tourne maintenant sur 8080 (non-root)
      port: {{ .Values.frontend.servicePort | default 8080 }}

      # Le container expose aussi 8080 (Dockerfile corrigÃ©)
      targetPort: {{ .Values.frontend.containerPort | default 8080 }}

      protocol: TCP
