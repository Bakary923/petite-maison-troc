# âœ… SERVICE DU FRONTEND
# Agit comme un Ã©quilibreur de charge (Load Balancer) interne pour les Pods frontend.
apiVersion: v1
kind: Service
metadata:
  name: {{ .Release.Name }}-frontend
spec:
  # Sur OpenShift, ClusterIP suffit car la Route expose le service Ã  l'extÃ©rieur.
  type: {{ .Values.frontend.serviceType | default "ClusterIP" }}
  selector:
    # ðŸŽ¯ CIBLAGE : Doit correspondre exactement au label dÃ©fini dans le Deployment
    app: frontend
  ports:
    - name: http  # ðŸ‘ˆ NOM DU PORT : Indispensable pour Ãªtre liÃ© Ã  la Route OpenShift
      port: {{ .Values.frontend.servicePort }}
      targetPort: {{ .Values.frontend.containerPort | default 80 }}
      protocol: TCP