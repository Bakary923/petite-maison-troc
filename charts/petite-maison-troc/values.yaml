# ============================================================
# VALUES.YAML - PETITE MAISON DU TROC (MODE INGRESS)
# ============================================================

# --- 1. SECRETS & SÉCURITÉ (Valeurs injectées via values-secrets.yaml) ---
secrets:
  dbName: "REDACTED"
  dbUser: "REDACTED"
  dbPassword: "REDACTED"
  jwtSecret: "REDACTED"
  jwtRefreshSecret: "REDACTED"

# --- 2. BACKEND (API) ---
backend:
  image: ghcr.io/bakary923/petite-maison-troc/backend:latest
  replicaCount: 1
  containerPort: 3000
  servicePort: 30000 
  serviceType: ClusterIP 
  pullPolicy: Always
  url: "http://petite-maison.local/api" 

# --- 3. FRONTEND (WEB) ---
frontend:
  image: ghcr.io/bakary923/petite-maison-troc/frontend:latest
  replicaCount: 1
  containerPort: 80
  servicePort: 30001
  serviceType: ClusterIP
  pullPolicy: Always
  url: "http://petite-maison.local"

# --- 4. DATABASE (POSTGRESQL) ---
database:
  image: postgres:16-alpine
  host: "postgres"
  port: 5432
  pvcName: "postgres-pvc" 
  storageSize: 1Gi
  accessMode: ReadWriteOnce

# --- 5. STOCKAGE PERSISTANT (UPLOADS) ---
storage:
  pvcName: "uploads-pvc" 
  uploadsSize: 1Gi
  accessMode: ReadWriteOnce